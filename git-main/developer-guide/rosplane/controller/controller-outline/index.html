
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A lean, open-source autopilot system built by researchers, for researchers">
      
      
        <meta name="author" content="James Jackson, Daniel Koch, Ian Reid, Brandon Sutherland, Jacob Moore">
      
      
        <link rel="canonical" href="http://rosflight.org/git-main/developer-guide/rosplane/controller/controller-outline/">
      
      
        <link rel="prev" href="../controller-state-machine/">
      
      
        <link rel="next" href="../controller-total-energy/">
      
      
      <link rel="icon" href="../../../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>Successive Loop Closure Controller Outline - ROSflight</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="red">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#successive-loop-closure-controller" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
You're not viewing the latest stable version.
<a href="../../../../..">
  <strong>Click here to go to latest.</strong>
</a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL("../../../.."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="ROSflight" class="md-header__button md-logo" aria-label="ROSflight" data-md-component="logo">
      
  <img src="../../../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ROSflight
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Successive Loop Closure Controller Outline
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../user-guide/overview/" class="md-tabs__link">
          
  
  
  User Guide

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../../contribution-guidelines/" class="md-tabs__link">
          
  
  
  Developer Guide

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="ROSflight" class="md-nav__button md-logo" aria-label="ROSflight" data-md-component="logo">
      
  <img src="../../../../assets/logo.png" alt="logo">

    </a>
    ROSflight
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    User Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Installation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/installation/installation-sim/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation for Sim
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/installation/installation-hardware/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation on Hardware
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/installation/using-docker-with-rosflight/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using Docker with ROSflight
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tutorials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/tutorials/tutorial-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/tutorials/setting-up-rosflight-sim/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Setting up ROSflight Sim
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/tutorials/manually-flying-rosflight-sim/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Manually flying ROSflight Sim
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/tutorials/setting-up-roscopter-in-sim/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Running ROScopter in Sim
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/tutorials/setting-up-rosplane-in-sim/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Running ROSplane in Sim
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/tutorials/tuning-performance-in-sim/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tuning performance
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/tutorials/transitioning-from-sim-to-hardware/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Transitioning from Sim to Hardware
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Concepts
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Concepts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_1" >
        
          
          <label class="md-nav__link" for="__nav_2_4_1" id="__nav_2_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Hardware and ROSflight
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4_1">
            <span class="md-nav__icon md-icon"></span>
            Hardware and ROSflight
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/concepts/getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/concepts/hardware-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hardware Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/concepts/flight-controller-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Flight Controller Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/concepts/rc-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RC Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/concepts/parameter-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Parameter Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/concepts/preflight-checks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pre-Flight Checks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/concepts/improving-firmware-performance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Improving Firmware Performance
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/concepts/autonomous-flight/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Autonomous Flight
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_2" >
        
          
          <label class="md-nav__link" for="__nav_2_4_2" id="__nav_2_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ROSflight Sim
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4_2">
            <span class="md-nav__icon md-icon"></span>
            ROSflight Sim
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/concepts/running-simulations-with-rosflight/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ROSflight Sim Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/concepts/detailed-launching-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Detailed Launching Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/concepts/simulator-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Simulator Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3" >
        
          
          <label class="md-nav__link" for="__nav_2_4_3" id="__nav_2_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ROSplane
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4_3">
            <span class="md-nav__icon md-icon"></span>
            ROSplane
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/concepts/rosplane-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ROSplane Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/concepts/rosplane-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ROSplane Setup
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4_4" id="__nav_2_4_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ROScopter
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4_4">
            <span class="md-nav__icon md-icon"></span>
            ROScopter
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/concepts/roscopter-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ROScopter Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/concepts/roscopter-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ROScopter Setup
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Developer Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Developer Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../contribution-guidelines/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contribution Guidelines
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../style-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Style Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Firmware
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Firmware
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../firmware/code-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Code Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../firmware/building-and-flashing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Building and Flashing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../firmware/unit-tests/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Unit Tests
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../firmware/debugging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Debugging
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" checked>
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ROSplane
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            ROSplane
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rosplane-dev-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Developer Guide Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4_2" checked>
        
          
          <label class="md-nav__link" for="__nav_3_4_2" id="__nav_3_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Controller
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_4_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_4_2">
            <span class="md-nav__icon md-icon"></span>
            Controller
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../controller-general-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    General Controller Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../controller-software-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Controller Software Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../controller-base/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Controller Base
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../controller-state-machine/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Controller State Machine
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Successive Loop Closure Controller Outline
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Successive Loop Closure Controller Outline
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#successive-loop-closure" class="md-nav__link">
    <span class="md-ellipsis">
      Successive Loop Closure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nomenclature" class="md-nav__link">
    <span class="md-ellipsis">
      Nomenclature
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lateral-directional-autopilot" class="md-nav__link">
    <span class="md-ellipsis">
      Lateral-directional Autopilot
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lateral-directional Autopilot">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#course-loop" class="md-nav__link">
    <span class="md-ellipsis">
      Course Loop
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Course Loop">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inner-loop" class="md-nav__link">
    <span class="md-ellipsis">
      Inner Loop
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outer-loop" class="md-nav__link">
    <span class="md-ellipsis">
      Outer Loop
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#yaw-damper" class="md-nav__link">
    <span class="md-ellipsis">
      Yaw Damper
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#longitudinal-autopilot" class="md-nav__link">
    <span class="md-ellipsis">
      Longitudinal Autopilot
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Longitudinal Autopilot">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#altitude-loop" class="md-nav__link">
    <span class="md-ellipsis">
      Altitude Loop
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Altitude Loop">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inner-loop_1" class="md-nav__link">
    <span class="md-ellipsis">
      Inner Loop
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outer-loop_1" class="md-nav__link">
    <span class="md-ellipsis">
      Outer Loop
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#airspeed-loop" class="md-nav__link">
    <span class="md-ellipsis">
      Airspeed Loop
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#controller-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      Controller Outputs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#important-notes" class="md-nav__link">
    <span class="md-ellipsis">
      Important Notes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#software-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Software Architecture
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Parameters
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../controller-total-energy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Total Energy Controller
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4_3" >
        
          
          <label class="md-nav__link" for="__nav_3_4_3" id="__nav_3_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Estimator
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4_3">
            <span class="md-nav__icon md-icon"></span>
            Estimator
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../estimator/estimator-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Estimator Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../estimator/estimator-base/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Estimator Base
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../estimator/estimator-example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Estimator Example
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../parameter-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Parameter Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4_5" >
        
          
          <label class="md-nav__link" for="__nav_3_4_5" id="__nav_3_4_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Navigation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4_5">
            <span class="md-nav__icon md-icon"></span>
            Navigation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../navigation/navigation-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Navigation Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../navigation/path-planner/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Path Planner
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../navigation/path-manager/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Path Manager
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../navigation/path-follower/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Path Follower
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#successive-loop-closure" class="md-nav__link">
    <span class="md-ellipsis">
      Successive Loop Closure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nomenclature" class="md-nav__link">
    <span class="md-ellipsis">
      Nomenclature
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lateral-directional-autopilot" class="md-nav__link">
    <span class="md-ellipsis">
      Lateral-directional Autopilot
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lateral-directional Autopilot">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#course-loop" class="md-nav__link">
    <span class="md-ellipsis">
      Course Loop
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Course Loop">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inner-loop" class="md-nav__link">
    <span class="md-ellipsis">
      Inner Loop
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outer-loop" class="md-nav__link">
    <span class="md-ellipsis">
      Outer Loop
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#yaw-damper" class="md-nav__link">
    <span class="md-ellipsis">
      Yaw Damper
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#longitudinal-autopilot" class="md-nav__link">
    <span class="md-ellipsis">
      Longitudinal Autopilot
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Longitudinal Autopilot">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#altitude-loop" class="md-nav__link">
    <span class="md-ellipsis">
      Altitude Loop
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Altitude Loop">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inner-loop_1" class="md-nav__link">
    <span class="md-ellipsis">
      Inner Loop
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outer-loop_1" class="md-nav__link">
    <span class="md-ellipsis">
      Outer Loop
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#airspeed-loop" class="md-nav__link">
    <span class="md-ellipsis">
      Airspeed Loop
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#controller-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      Controller Outputs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#important-notes" class="md-nav__link">
    <span class="md-ellipsis">
      Important Notes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#software-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Software Architecture
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Parameters
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/rosflight/rosflight_docs/edit/main/docs/developer-guide/rosplane/controller/controller-outline.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<div><h1 id="successive-loop-closure-controller">Successive Loop Closure Controller<a class="headerlink" href="#successive-loop-closure-controller" title="Permanent link">¶</a></h1>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">¶</a></h2>
<p>The control scheme used by default in ROSplane comes from the book <em>Small Unmannded Aircraft: Theory and Practice</em> by Randal Beard and Timothy McLain.
A full and in depth description of the theory behind this controller is outlined in chapter 6.
Additionally, many simplifing assumptions are made some of which will be mentioned, but the rationale not explored.
These too are found in the book, in chapters 3, 4 and 5.
A link to the most up to date book can be found on the <a href="https://github.com/randybeard/mavsim_public">GitHub page</a> for the book.
This section of the documentation is to briefly outline the important, practical parts of the controller to be useful in understanding how to tune or modify the existing code or algorithm for a developer.
A good primer on PID control can be found <a href="https://www.youtube.com/watch?v=UR0hOmjaHp0">here</a>.</p>
<p>The control algortihm is split into two parts:
<strong>Lateral-directional Autopilot</strong> and <strong>Longitudinal Autopilot</strong>.
The lateral and longitudinal dynamics are assumed to be decoupled as discussed in Section 6.1 of <em>Small Unmannded Aircraft</em>.
This allows us to develop a controller for each set of dynamics to simplify the controller design.</p>
<h2 id="successive-loop-closure">Successive Loop Closure<a class="headerlink" href="#successive-loop-closure" title="Permanent link">¶</a></h2>
<p>For a full discussion of PID successive loop closure, which is used heavily through out the entire controller, read section 6.1 in the book.
One major assumption used is that the inner loops are much faster (more than ten times faster) than the outer loops.
This means that the bandwidth seperation should be seperated by a factor of 10.
See end of section 6.1.1 <em>Course Hold using Commanded Roll</em> in the book for a more thorough discussion.
A significant advantage of successive loop closure is that gains are tuned independently.
Starting from the inner loops, tune the response and then tune the outer loop.</p>
<h2 id="nomenclature">Nomenclature<a class="headerlink" href="#nomenclature" title="Permanent link">¶</a></h2>
<table>
<thead>
<tr>
<th style="text-align: center;">Symbol</th>
<th style="text-align: center;">Meaning</th>
<th style="text-align: center;">Range</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\large{\boldsymbol{\chi}}</span><script type="math/tex">\large{\boldsymbol{\chi}}</script></span></td>
<td style="text-align: center;">Course/Heading</td>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">[-\pi,\pi)</span><script type="math/tex">[-\pi,\pi)</script></span></td>
</tr>
<tr>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\large{\boldsymbol{\phi}}</span><script type="math/tex">\large{\boldsymbol{\phi}}</script></span></td>
<td style="text-align: center;">Roll</td>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">[-\pi,\pi)</span><script type="math/tex">[-\pi,\pi)</script></span></td>
</tr>
<tr>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\large{\boldsymbol{\theta}}</span><script type="math/tex">\large{\boldsymbol{\theta}}</script></span></td>
<td style="text-align: center;">Theta</td>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">[-\pi,\pi)</span><script type="math/tex">[-\pi,\pi)</script></span></td>
</tr>
<tr>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\large{\boldsymbol{\psi}}</span><script type="math/tex">\large{\boldsymbol{\psi}}</script></span></td>
<td style="text-align: center;">Yaw</td>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">[-\pi,\pi)</span><script type="math/tex">[-\pi,\pi)</script></span></td>
</tr>
<tr>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\large{\boldsymbol{h}}</span><script type="math/tex">\large{\boldsymbol{h}}</script></span></td>
<td style="text-align: center;">Altitude</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\large{p}</span><script type="math/tex">\large{p}</script></span></td>
<td style="text-align: center;">Roll Rate</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\large{q}</span><script type="math/tex">\large{q}</script></span></td>
<td style="text-align: center;">Pitch Rate</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\large{r}</span><script type="math/tex">\large{r}</script></span></td>
<td style="text-align: center;">Yaw Rate</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\large{V_a}</span><script type="math/tex">\large{V_a}</script></span></td>
<td style="text-align: center;">Airspeed</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\large{\boldsymbol{\delta_i}}</span><script type="math/tex">\large{\boldsymbol{\delta_i}}</script></span></td>
<td style="text-align: center;">Command percent defelection of control surface <span class="arithmatex"><span class="MathJax_Preview">i</span><script type="math/tex">i</script></span></td>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">[-1.0,1.0]</span><script type="math/tex">[-1.0,1.0]</script></span></td>
</tr>
<tr>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\large{\boldsymbol{e_a}}</span><script type="math/tex">\large{\boldsymbol{e_a}}</script></span></td>
<td style="text-align: center;">Error in state variable <span class="arithmatex"><span class="MathJax_Preview">a</span><script type="math/tex">a</script></span></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\large{\boldsymbol{a^c}}</span><script type="math/tex">\large{\boldsymbol{a^c}}</script></span></td>
<td style="text-align: center;">Commanded value of state variable <span class="arithmatex"><span class="MathJax_Preview">a</span><script type="math/tex">a</script></span></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\large{\boldsymbol{k_{p_{a}}}}</span><script type="math/tex">\large{\boldsymbol{k_{p_{a}}}}</script></span></td>
<td style="text-align: center;">Proportional gain for state variable <span class="arithmatex"><span class="MathJax_Preview">a</span><script type="math/tex">a</script></span></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\large{\boldsymbol{k_{d_{a}}}}</span><script type="math/tex">\large{\boldsymbol{k_{d_{a}}}}</script></span></td>
<td style="text-align: center;">Derivative gain for state variable <span class="arithmatex"><span class="MathJax_Preview">a</span><script type="math/tex">a</script></span></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\large{\boldsymbol{k_{i_{a}}}}</span><script type="math/tex">\large{\boldsymbol{k_{i_{a}}}}</script></span></td>
<td style="text-align: center;">Integral gain for state variable <span class="arithmatex"><span class="MathJax_Preview">a</span><script type="math/tex">a</script></span></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\large{\boldsymbol{p_{wo}}}</span><script type="math/tex">\large{\boldsymbol{p_{wo}}}</script></span></td>
<td style="text-align: center;">Washout filter bandwidth</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\large{\boldsymbol{P}}</span><script type="math/tex">\large{\boldsymbol{P}}</script></span></td>
<td style="text-align: center;">Plant transfer function</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\large{\boldsymbol{s}}</span><script type="math/tex">\large{\boldsymbol{s}}</script></span></td>
<td style="text-align: center;">Laplace operator</td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
<h2 id="lateral-directional-autopilot">Lateral-directional Autopilot<a class="headerlink" href="#lateral-directional-autopilot" title="Permanent link">¶</a></h2>
<p>The autopilot uses induced roll to control changes in course.
The Lateral-directional Autopilot also uses a yaw damper to damp the dutch roll mode that can be induced by changes in roll.</p>
<h3 id="course-loop">Course Loop<a class="headerlink" href="#course-loop" title="Permanent link">¶</a></h3>
<p>In figure 1, the entire control loop for the course is shown.
This loop allows for tracking of ramp and step commands in course.
Since the inner loop is tuned first and influences the outer loop tune, we will discuss it first.</p>
<!-- TODO Add phi_ff to the mix -->
<!-- TODO Fix typo in /chi on the left, should be /chi^c -->

<table>
<thead>
<tr>
<th style="text-align: center;"><a class="glightbox" href="../../../../assets/controller_assets/figure_6_5.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Diagram of Lateral-directional Autopilot control loop" src="../../../../assets/controller_assets/figure_6_5.png" title="Lateral-directional Autopilot Control Loop"></a></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><em>Figure 1: Lateral-directional Autopilot Control Loop</em></td>
</tr>
</tbody>
</table>
<h4 id="inner-loop">Inner Loop<a class="headerlink" href="#inner-loop" title="Permanent link">¶</a></h4>
<p>The inner loop calculates the required percent deflection in the ailerons, <span class="arithmatex"><span class="MathJax_Preview">\boldsymbol{\delta_a}</span><script type="math/tex">\boldsymbol{\delta_a}</script></span>, to acheive the commanded roll angle generated by the outer loop.
This loop is a PD loop, meaning that it uses only a proportional and derivative control.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>That the derivative gain does not act on the rate of change of the error but of the direct roll rate, <span class="arithmatex"><span class="MathJax_Preview">p</span><script type="math/tex">p</script></span>.</p>
</div>
<p>The proportional gain acts on the error given by the estimated roll and the commanded roll.
This loop does not use integral contol to ensure that it closes much faster than the outer loop.
This bandwidth seperation helps the controller perform smoothly.
See the specific page on the Course Loop for details on tuning and common pitfalls.
For more details on how the roll rate and the roll angle are calculated, see the Estimator page.
The output for the inner loop is routed into the outer loop.</p>
<h4 id="outer-loop">Outer Loop<a class="headerlink" href="#outer-loop" title="Permanent link">¶</a></h4>
<p>The outer loop calculates the commanded roll angle, <span class="arithmatex"><span class="MathJax_Preview">\boldsymbol{\phi}</span><script type="math/tex">\boldsymbol{\phi}</script></span>, based on the error in the course, <span class="arithmatex"><span class="MathJax_Preview">\boldsymbol{\chi}</span><script type="math/tex">\boldsymbol{\chi}</script></span>.
This is a PI loop, meaning that it uses only proportional and integral control.
The proportional gain acts on the error between the estimated course <span class="arithmatex"><span class="MathJax_Preview">\boldsymbol{\chi}</span><script type="math/tex">\boldsymbol{\chi}</script></span> and the commanded course <span class="arithmatex"><span class="MathJax_Preview">\boldsymbol{\chi}</span><script type="math/tex">\boldsymbol{\chi}</script></span>.
The integral gain acts on the same error, ensuring that errors in course are driven to zero.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The PI loop allows for only constant error in ramp inputs (orbits) and for no error to step inputs (path following commands).</p>
</div>
<p>See the specific page on the Course Loop for details on tuning and common pitfalls.
For more details on how course is estimated and measured, see the Estimator page.
These loops combine to give complete control of the course of the aircraft.</p>
<h3 id="yaw-damper">Yaw Damper<a class="headerlink" href="#yaw-damper" title="Permanent link">¶</a></h3>
<p>The yaw damper allows for effective damping of undesirable yaw modes induced by rolling.
This is done by using the rudder to control the yaw rate, <span class="arithmatex"><span class="MathJax_Preview">r</span><script type="math/tex">r</script></span>, to zero.
Not all yaw rates should be controlled to zero since this would disallow turning.
A washout filter is used to only damp high frequency yaw rates.
In effect, this control only 'turns on' if the frequency of the yaw rate is high enough.
For mor information see the Yaw Damper page.</p>
<table>
<thead>
<tr>
<th style="text-align: center;"><a class="glightbox" href="../../../../assets/controller_assets/yaw_damper_diag.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Diagram of Yaw Damper loop" src="../../../../assets/controller_assets/yaw_damper_diag.png" title="Yaw damper control loop diagram."></a></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><em>Figure 2: Yaw Damper Control Loop</em></td>
</tr>
</tbody>
</table>
<h2 id="longitudinal-autopilot">Longitudinal Autopilot<a class="headerlink" href="#longitudinal-autopilot" title="Permanent link">¶</a></h2>
<p>The longitudinal autopilot controls the longitudinal dynamics of the aircraft.
This means that the loop controls altitude, pitch and airspeed.</p>
<h3 id="altitude-loop">Altitude Loop<a class="headerlink" href="#altitude-loop" title="Permanent link">¶</a></h3>
<p>The altitude loop utilizes successive loop closure to control altitude.
It uses the elevator to control the pitch of the aircraft, and then controls using commanded pitch the altitude.
This loop can track step and ramp commands.</p>
<table>
<thead>
<tr>
<th style="text-align: center;"><a class="glightbox" href="../../../../assets/controller_assets/Altitude_control_loop.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Diagram of Altitude loop" src="../../../../assets/controller_assets/Altitude_control_loop.png" title="Altitude control loop diagram."></a></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><em>Figure 3: Altitude Control Loop</em></td>
</tr>
</tbody>
</table>
<h4 id="inner-loop_1">Inner Loop<a class="headerlink" href="#inner-loop_1" title="Permanent link">¶</a></h4>
<p>The inner loop controls the pitch, <span class="arithmatex"><span class="MathJax_Preview">\boldsymbol{\theta}</span><script type="math/tex">\boldsymbol{\theta}</script></span>.
It does so by calculating the necessary <span class="arithmatex"><span class="MathJax_Preview">\boldsymbol{\delta_e}</span><script type="math/tex">\boldsymbol{\delta_e}</script></span> to acheive the commanded pitch.
This is a PD loop, this means that there is often a small DC offset to the commanded pitch.
This does not affect the performance of the overall altitude loop.
Like the inner loop of the course control, the derivative gain acts on the measured pitch rate rather than the error derivative.</p>
<h4 id="outer-loop_1">Outer Loop<a class="headerlink" href="#outer-loop_1" title="Permanent link">¶</a></h4>
<p>The outer loop is a PI loop.
It uses the error in the altitude, <span class="arithmatex"><span class="MathJax_Preview">h</span><script type="math/tex">h</script></span>, and integral of the error of altitude to drive the error to zero for steps and for ramps.
The commanded altitude is capped using a scheme described in the Altitude Loop page.
In practice, the altitude loop is often slower when the commanded altitude is descending and faster when ascending.
This is because the airspeed is coupled to the altitude.
While descending the controller will attempt to maintain airspeed.
This can also result in more overshoot while descending.</p>
<h3 id="airspeed-loop">Airspeed Loop<a class="headerlink" href="#airspeed-loop" title="Permanent link">¶</a></h3>
<p>The Airspeed loop is a PI loop.
It reacts to the straight forward error in commanded airspeed <span class="arithmatex"><span class="MathJax_Preview">V_a^c</span><script type="math/tex">V_a^c</script></span> given by the waypoint mission.
It generates the required throttle, <span class="arithmatex"><span class="MathJax_Preview">\delta_t</span><script type="math/tex">\delta_t</script></span>, to acheive the commanded airspeed.
This is suffecient because of the natural damping of the drag on the aircraft.
In practice, the loop performs well, but is prone to small fluctuations (on the order of <span class="arithmatex"><span class="MathJax_Preview">\pm 1 \frac{m}{s}</span><script type="math/tex">\pm 1 \frac{m}{s}</script></span>) due to the differential pressure sensor fluctuating because of wind and other disturbances.</p>
<table>
<thead>
<tr>
<th style="text-align: center;"><a class="glightbox" href="../../../../assets/controller_assets/Airspeed_loop.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Diagram of Airspeed loop" src="../../../../assets/controller_assets/Airspeed_loop.png" title="Airspeed control loop."></a></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><em>Figure 4: Airspeed using throttle control loop</em></td>
</tr>
</tbody>
</table>
<h2 id="controller-outputs">Controller Outputs<a class="headerlink" href="#controller-outputs" title="Permanent link">¶</a></h2>
<p>What the entire controller outputs is a set of 4 control efforts that correspond to the 4 major control surfaces on the aircraft.
These are the elevator, ailerons, rudder and the throttle.
The controller can easily be switched to outputing up to 8 outputs, using the aux channels of the Commands Message.
These outputs are fed directly to rosflight_io and then passed along to the microcontroller and finally actuated on the physical or simulated aircraft.
The controller is the exposed portion of ROSplane to ROSflight.</p>
<h2 id="important-notes">Important Notes<a class="headerlink" href="#important-notes" title="Permanent link">¶</a></h2>
<p>The controller does not directly control the position.
In the ROSplane overview page, it shows how the Path Follower feeds into the controller.
The Path Follwer generates commands that result in the position control of the aircraft.
For a better understanding of this realtionship visit the Path Follower page.</p>
<h2 id="software-architecture">Software Architecture<a class="headerlink" href="#software-architecture" title="Permanent link">¶</a></h2>
<p>The Successive Loop Closure Controller (SLCC) inherits from the state machine class, (see <a href="../controller-software-architecture/">Software Architecture</a> for more details) and implements the state function for each of the states.
This state function is then populated with the desired control during each phase of flight (see <a href="../controller-state-machine/">State Machine</a> for more details on control during each state).
The state functions split control into longitudinal and lateral control, this allows for inheritance of this class an only override longitudinal or lateral control (see <a href="./">Total Energy Control</a> for an example of how this is done).</p>
<table>
<thead>
<tr>
<th style="text-align: center;"><a class="glightbox" href="../../../../assets/controller_assets/SLCC_code.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Code Snippet for State Function" src="../../../../assets/controller_assets/SLCC_code.png" title="Code Snippet of State Function"></a></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><em>Figure 5: An example of an implementation of a state function, in this case the altitude hold state.</em></td>
</tr>
</tbody>
</table>
<p>The lateral and longitudinal control functions activate particular control loops necessary.</p>
<table>
<thead>
<tr>
<th style="text-align: center;"><a class="glightbox" href="../../../../assets/controller_assets/control_loop_example.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Code Snippet for a Control" src="../../../../assets/controller_assets/control_loop_example.png" title="Code Snippet for Lat/Long Control"></a></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><em>Figure 6: An example of an implementation of a lateral and longitudinal control, in this case during the altitude hold state.</em></td>
</tr>
</tbody>
</table>
<p>Each control loop gets its own function and it follows a specific format.
This format is pictured below, but a full outline is given in the .cpp file for the SLCC.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All of the PID is implemented but the gains if not using a particular control (proportional/derivative/integral) are zero.</p>
</div>
<table>
<thead>
<tr>
<th style="text-align: center;"><a class="glightbox" href="../../../../assets/controller_assets/control_loop_example.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Code Snippet for a Control Loop" src="../../../../assets/controller_assets/control_loop_example.png" title="Code Snippet for a Control Loop"></a></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><em>Figure 7: An example of an implementation of a control loop, in this case the roll loop (inner course loop).</em></td>
</tr>
</tbody>
</table>
<h2 id="parameters">Parameters<a class="headerlink" href="#parameters" title="Permanent link">¶</a></h2>
<p>These values are typically held in a .yaml file.
For the default values, check the .cpp file.</p>
<table>
<thead>
<tr>
<th style="text-align: center;">Parameter</th>
<th style="text-align: center;">Explanation</th>
<th style="text-align: center;">Range</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">max_takeoff_throttle</td>
<td style="text-align: center;">Trottle saturation level during the takeoff zone.</td>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">(0.0, 1.0)</span><script type="math/tex">(0.0, 1.0)</script></span> (double)</td>
</tr>
<tr>
<td style="text-align: center;">c_kp</td>
<td style="text-align: center;">The proportional gain on the outer course loop.</td>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\geq 0.0</span><script type="math/tex">\geq 0.0</script></span> (double)</td>
</tr>
<tr>
<td style="text-align: center;">c_kd</td>
<td style="text-align: center;">The derivative gain on the outer course loop.</td>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\leq 0.0</span><script type="math/tex">\leq 0.0</script></span> (double)</td>
</tr>
<tr>
<td style="text-align: center;">c_ki</td>
<td style="text-align: center;">The integral gain on the outer course loop.</td>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\geq 0.0</span><script type="math/tex">\geq 0.0</script></span> (double)</td>
</tr>
<tr>
<td style="text-align: center;">max_roll</td>
<td style="text-align: center;">Commanded roll saturation limit.</td>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\geq 0.0</span><script type="math/tex">\geq 0.0</script></span> (double)(degrees)</td>
</tr>
<tr>
<td style="text-align: center;">cmd_takeoff_pitch</td>
<td style="text-align: center;">Commanded pitch while in takeoff state.</td>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\geq 0.0</span><script type="math/tex">\geq 0.0</script></span> (double)(degrees)</td>
</tr>
<tr>
<td style="text-align: center;">r_kp</td>
<td style="text-align: center;">The proportional gain on the inner course loop.</td>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\geq 0.0</span><script type="math/tex">\geq 0.0</script></span> (double)</td>
</tr>
<tr>
<td style="text-align: center;">r_kd</td>
<td style="text-align: center;">The derivative gain on the inner course loop.</td>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\geq 0.0</span><script type="math/tex">\geq 0.0</script></span> (double)</td>
</tr>
<tr>
<td style="text-align: center;">r_ki</td>
<td style="text-align: center;">The integral gain on the inner course loop.</td>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\geq 0.0</span><script type="math/tex">\geq 0.0</script></span> (double)</td>
</tr>
<tr>
<td style="text-align: center;">max_a</td>
<td style="text-align: center;">Saturation limit for the ailerons</td>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\geq 0.0</span><script type="math/tex">\geq 0.0</script></span> (double)</td>
</tr>
<tr>
<td style="text-align: center;">trim_a</td>
<td style="text-align: center;">Trim value for the ailerons.</td>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\geq 0.0</span><script type="math/tex">\geq 0.0</script></span> (double)</td>
</tr>
<tr>
<td style="text-align: center;">a_kp</td>
<td style="text-align: center;">The proportional gain on the outer altitude loop.</td>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\geq 0.0</span><script type="math/tex">\geq 0.0</script></span> (double)</td>
</tr>
<tr>
<td style="text-align: center;">a_kd</td>
<td style="text-align: center;">The derivative gain on the outer altitude loop.</td>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\geq 0.0</span><script type="math/tex">\geq 0.0</script></span> (double)</td>
</tr>
<tr>
<td style="text-align: center;">a_ki</td>
<td style="text-align: center;">The integral gain on the outer altitude loop.</td>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\geq 0.0</span><script type="math/tex">\geq 0.0</script></span> (double)</td>
</tr>
<tr>
<td style="text-align: center;">max_pitch</td>
<td style="text-align: center;">Commanded pitch saturation limit.</td>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\geq 0.0</span><script type="math/tex">\geq 0.0</script></span> (double)(degrees)</td>
</tr>
<tr>
<td style="text-align: center;">p_kp</td>
<td style="text-align: center;">The proportional gain on the inner altitude loop.</td>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\leq 0.0</span><script type="math/tex">\leq 0.0</script></span> (double)</td>
</tr>
<tr>
<td style="text-align: center;">p_kd</td>
<td style="text-align: center;">The derivative gain on the inner altitude loop.</td>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\leq 0.0</span><script type="math/tex">\leq 0.0</script></span> (double)</td>
</tr>
<tr>
<td style="text-align: center;">p_ki</td>
<td style="text-align: center;">The integral gain on the inner altitude loop.</td>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\leq 0.0</span><script type="math/tex">\leq 0.0</script></span> (double)</td>
</tr>
<tr>
<td style="text-align: center;">max_e</td>
<td style="text-align: center;">Saturation limit for the elevator</td>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\geq 0.0</span><script type="math/tex">\geq 0.0</script></span> (double)</td>
</tr>
<tr>
<td style="text-align: center;">trim_e</td>
<td style="text-align: center;">Trim value for the elevator.</td>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\geq 0.0</span><script type="math/tex">\geq 0.0</script></span> (double)</td>
</tr>
<tr>
<td style="text-align: center;">y_pwo</td>
<td style="text-align: center;">The yaw damper washout filter cutoff frequency.</td>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\leq 0.0</span><script type="math/tex">\leq 0.0</script></span> (double)(radians/s)</td>
</tr>
<tr>
<td style="text-align: center;">y_kr</td>
<td style="text-align: center;">Control gain on yaw damper.</td>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\leq 0.0</span><script type="math/tex">\leq 0.0</script></span> (double)</td>
</tr>
<tr>
<td style="text-align: center;">a_t_kp</td>
<td style="text-align: center;">The proportional gain on the airspeed loop.</td>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\geq 0.0</span><script type="math/tex">\geq 0.0</script></span> (double)</td>
</tr>
<tr>
<td style="text-align: center;">a_t_kd</td>
<td style="text-align: center;">The derivative gain on the airspeed loop.</td>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\geq 0.0</span><script type="math/tex">\geq 0.0</script></span> (double)</td>
</tr>
<tr>
<td style="text-align: center;">a_t_ki</td>
<td style="text-align: center;">The integral gain on the airspeed loop.</td>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\geq 0.0</span><script type="math/tex">\geq 0.0</script></span> (double)</td>
</tr>
<tr>
<td style="text-align: center;">max_t</td>
<td style="text-align: center;">Saturation limit for the throttle.</td>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\geq 0.0</span><script type="math/tex">\geq 0.0</script></span> (double)</td>
</tr>
<tr>
<td style="text-align: center;">trim_t</td>
<td style="text-align: center;">Trim value for the throttle.</td>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\geq 0.0</span><script type="math/tex">\geq 0.0</script></span> (double)</td>
</tr>
<tr>
<td style="text-align: center;">tau</td>
<td style="text-align: center;">Dirty derivative low pass filter gain for airspeed.</td>
<td style="text-align: center;"><span class="arithmatex"><span class="MathJax_Preview">\geq 0.0</span><script type="math/tex">\geq 0.0</script></span> (double)</td>
</tr>
</tbody>
</table></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2019-2025, BYU MAGICC Lab
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../../..", "features": ["content.action.edit", "navigation.tabs"], "search": "../../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>