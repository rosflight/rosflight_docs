
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A lean, open-source autopilot system built by researchers, for researchers">
      
      
        <meta name="author" content="James Jackson, Daniel Koch, Ian Reid, Brandon Sutherland, Jacob Moore">
      
      
        <link rel="canonical" href="http://rosflight.org/git-main/user-guide/concepts/hardware-setup/">
      
      
        <link rel="prev" href="../getting-started/">
      
      
        <link rel="next" href="../flight-controller-setup/">
      
      
      <link rel="icon" href="../../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>Hardware Setup - ROSflight</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="red">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#hardware-setup" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
You're not viewing the latest stable version.
<a href="../../../..">
  <strong>Click here to go to latest.</strong>
</a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL("../../.."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="ROSflight" class="md-header__button md-logo" aria-label="ROSflight" data-md-component="logo">
      
  <img src="../../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ROSflight
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Hardware Setup
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../overview/" class="md-tabs__link">
          
  
  
  User Guide

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../developer-guide/contribution-guidelines/" class="md-tabs__link">
          
  
  
  Developer Guide

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="ROSflight" class="md-nav__button md-logo" aria-label="ROSflight" data-md-component="logo">
      
  <img src="../../../assets/logo.png" alt="logo">

    </a>
    ROSflight
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    User Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Installation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/installation-sim/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation for Sim
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/installation-hardware/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation on Hardware
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/using-docker-with-rosflight/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using Docker with ROSflight
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tutorials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/tutorial-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/setting-up-rosflight-sim/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Setting up ROSflight Sim
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/manually-flying-rosflight-sim/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Manually flying ROSflight Sim
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/setting-up-roscopter-in-sim/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Running ROScopter in Sim
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/setting-up-rosplane-in-sim/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Running ROSplane in Sim
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/tuning-performance-in-sim/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tuning performance
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/transitioning-from-sim-to-hardware/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Transitioning from Sim to Hardware
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" checked>
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Concepts
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Concepts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_1" checked>
        
          
          <label class="md-nav__link" for="__nav_2_4_1" id="__nav_2_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Hardware and ROSflight
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_4_1">
            <span class="md-nav__icon md-icon"></span>
            Hardware and ROSflight
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Hardware Setup
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Hardware Setup
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#parts-list" class="md-nav__link">
    <span class="md-ellipsis">
      Parts List
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Parts List">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frame-motors-escs-battery-and-propeller" class="md-nav__link">
    <span class="md-ellipsis">
      Frame, Motors, ESCs, Battery, and Propeller
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flight-controller" class="md-nav__link">
    <span class="md-ellipsis">
      Flight Controller
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#external-sensors" class="md-nav__link">
    <span class="md-ellipsis">
      External Sensors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vibration-isolation" class="md-nav__link">
    <span class="md-ellipsis">
      Vibration Isolation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#companion-computer" class="md-nav__link">
    <span class="md-ellipsis">
      Companion Computer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wi-fi" class="md-nav__link">
    <span class="md-ellipsis">
      Wi-Fi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rc-transmitter-and-receiver" class="md-nav__link">
    <span class="md-ellipsis">
      RC Transmitter and Receiver
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#laptop-or-base-station-computer" class="md-nav__link">
    <span class="md-ellipsis">
      Laptop or Base Station Computer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#joystick" class="md-nav__link">
    <span class="md-ellipsis">
      Joystick
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#battery-monitor" class="md-nav__link">
    <span class="md-ellipsis">
      Battery Monitor
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wiring-diagram" class="md-nav__link">
    <span class="md-ellipsis">
      Wiring Diagram
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#motor-layouts-and-mixer" class="md-nav__link">
    <span class="md-ellipsis">
      Motor Layouts and Mixer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Motor Layouts and Mixer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#secondary-mixer" class="md-nav__link">
    <span class="md-ellipsis">
      Secondary Mixer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-motor-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Using Motor Parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#defining-a-custom-mixer" class="md-nav__link">
    <span class="md-ellipsis">
      Defining a Custom Mixer
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#connecting-to-the-flight-controller" class="md-nav__link">
    <span class="md-ellipsis">
      Connecting to the Flight Controller
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../flight-controller-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Flight Controller Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rc-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RC Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../parameter-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Parameter Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../preflight-checks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pre-Flight Checks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../improving-firmware-performance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Improving Firmware Performance
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../autonomous-flight/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Autonomous Flight
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_2" >
        
          
          <label class="md-nav__link" for="__nav_2_4_2" id="__nav_2_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ROSflight Sim
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4_2">
            <span class="md-nav__icon md-icon"></span>
            ROSflight Sim
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../running-simulations-with-rosflight/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ROSflight Sim Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../detailed-launching-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Detailed Launching Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../simulator-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Simulator Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3" >
        
          
          <label class="md-nav__link" for="__nav_2_4_3" id="__nav_2_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ROSplane
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4_3">
            <span class="md-nav__icon md-icon"></span>
            ROSplane
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rosplane-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ROSplane Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rosplane-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ROSplane Setup
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4_4" id="__nav_2_4_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ROScopter
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4_4">
            <span class="md-nav__icon md-icon"></span>
            ROScopter
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../roscopter-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ROScopter Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../roscopter-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ROScopter Setup
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Developer Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Developer Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer-guide/contribution-guidelines/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contribution Guidelines
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer-guide/style-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Style Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Firmware
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Firmware
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer-guide/firmware/code-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Code Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer-guide/firmware/building-and-flashing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Building and Flashing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer-guide/firmware/unit-tests/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Unit Tests
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer-guide/firmware/debugging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Debugging
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ROSplane
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            ROSplane
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer-guide/rosplane/rosplane-dev-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Developer Guide Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4_2" >
        
          
          <label class="md-nav__link" for="__nav_3_4_2" id="__nav_3_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Controller
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4_2">
            <span class="md-nav__icon md-icon"></span>
            Controller
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer-guide/rosplane/controller/controller-general-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    General Controller Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer-guide/rosplane/controller/controller-software-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Controller Software Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer-guide/rosplane/controller/controller-base/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Controller Base
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer-guide/rosplane/controller/controller-state-machine/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Controller State Machine
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer-guide/rosplane/controller/controller-outline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Successive Loop Closure Controller Outline
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer-guide/rosplane/controller/controller-total-energy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Total Energy Controller
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4_3" >
        
          
          <label class="md-nav__link" for="__nav_3_4_3" id="__nav_3_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Estimator
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4_3">
            <span class="md-nav__icon md-icon"></span>
            Estimator
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer-guide/rosplane/estimator/estimator-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Estimator Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer-guide/rosplane/estimator/estimator-base/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Estimator Base
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer-guide/rosplane/estimator/estimator-example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Estimator Example
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer-guide/rosplane/parameter-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Parameter Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4_5" >
        
          
          <label class="md-nav__link" for="__nav_3_4_5" id="__nav_3_4_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Navigation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4_5">
            <span class="md-nav__icon md-icon"></span>
            Navigation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer-guide/rosplane/navigation/navigation-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Navigation Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer-guide/rosplane/navigation/path-planner/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Path Planner
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer-guide/rosplane/navigation/path-manager/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Path Manager
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer-guide/rosplane/navigation/path-follower/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Path Follower
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#parts-list" class="md-nav__link">
    <span class="md-ellipsis">
      Parts List
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Parts List">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frame-motors-escs-battery-and-propeller" class="md-nav__link">
    <span class="md-ellipsis">
      Frame, Motors, ESCs, Battery, and Propeller
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flight-controller" class="md-nav__link">
    <span class="md-ellipsis">
      Flight Controller
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#external-sensors" class="md-nav__link">
    <span class="md-ellipsis">
      External Sensors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vibration-isolation" class="md-nav__link">
    <span class="md-ellipsis">
      Vibration Isolation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#companion-computer" class="md-nav__link">
    <span class="md-ellipsis">
      Companion Computer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wi-fi" class="md-nav__link">
    <span class="md-ellipsis">
      Wi-Fi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rc-transmitter-and-receiver" class="md-nav__link">
    <span class="md-ellipsis">
      RC Transmitter and Receiver
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#laptop-or-base-station-computer" class="md-nav__link">
    <span class="md-ellipsis">
      Laptop or Base Station Computer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#joystick" class="md-nav__link">
    <span class="md-ellipsis">
      Joystick
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#battery-monitor" class="md-nav__link">
    <span class="md-ellipsis">
      Battery Monitor
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wiring-diagram" class="md-nav__link">
    <span class="md-ellipsis">
      Wiring Diagram
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#motor-layouts-and-mixer" class="md-nav__link">
    <span class="md-ellipsis">
      Motor Layouts and Mixer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Motor Layouts and Mixer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#secondary-mixer" class="md-nav__link">
    <span class="md-ellipsis">
      Secondary Mixer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-motor-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Using Motor Parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#defining-a-custom-mixer" class="md-nav__link">
    <span class="md-ellipsis">
      Defining a Custom Mixer
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#connecting-to-the-flight-controller" class="md-nav__link">
    <span class="md-ellipsis">
      Connecting to the Flight Controller
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/rosflight/rosflight_docs/edit/main/docs/user-guide/concepts/hardware-setup.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<div><h1 id="hardware-setup">Hardware Setup<a class="headerlink" href="#hardware-setup" title="Permanent link">¶</a></h1>
<h2 id="parts-list">Parts List<a class="headerlink" href="#parts-list" title="Permanent link">¶</a></h2>
<p>To use ROSflight to its full potential, you will need the following system components.
Some components are mounted on your MAV (Miniature Aerial Vehicle), while others are on the ground.
ROSflight supports both multirotor and fixed-wing vehicle types.</p>
<p><em>Mounted on the MAV</em></p>
<ol>
<li>Aircraft Frame, Motor(s), ESC(s), Battery and Propeller(s)</li>
<li>Flight Controller (FC)</li>
<li>Vibration Isolation for FC</li>
<li>Any external sensors</li>
<li>R/C Receiver</li>
<li>Companion Computer</li>
<li>Wi-Fi Antenna, or access of some kind to ground-station, wireless network (e.g. Ubiquiti Bullet)</li>
</ol>
<p><em>Ground Station</em></p>
<ol>
<li>Ground-Station, Wireless Network (e.g. Wi-Fi Router, Ubiquiti Rocket)</li>
<li>R/C transmitter</li>
<li>Laptop or base station computer</li>
<li>Joystick (Xbox controller)</li>
</ol>
<h3 id="frame-motors-escs-battery-and-propeller">Frame, Motors, ESCs, Battery, and Propeller<a class="headerlink" href="#frame-motors-escs-battery-and-propeller" title="Permanent link">¶</a></h3>
<p>We do not officially support any specific multirotor or airplane frame, motor, ESC, Battery or Propeller combination.
There are a lot of great resources for building your own MAV, and there are a lot of great kits out there that have all of these parts.</p>
<p>If you are designing your own multirotor or airplane, you may want to look at <a href="https://www.ecalc.ch/">ecalc</a>, an online tool which can help you design a proper ESC/Battery/Motor/Propeller system for your MAV.</p>
<p>Some things to keep in mind as you design or build your MAV.</p>
<ul>
<li>Most kits do not include space for a companion computer, cameras, laser scanners or other sensors. Be sure to think about where these components are going to go, and how their placement will affect the CG of the MAV.</li>
<li>You will likely also need to customize the power circuitry of your MAV to provide power to your companion computer at some specific voltage. Many people like to separate the power electronics (the ESCs and motors), from the computer and companion sensors. This can really come in handy if you are trying to develop code on the MAV, because you can have the computer on and sensors powered, and not worry at all about propellers turning on and causing injury as you move the aircraft about by hand. We will talk about this more when we talk about wiring up your MAV.</li>
<li>Cheap propellers can cause a huge amount of vibration. Consider buying high-quality propellers, doing a propeller balance, or both. RCGroups, DIY Drones and YouTube have some awesome guides on how to do propeller balancing.</li>
<li>ESCs will need to be calibrated from 2000 to 1000 us</li>
</ul>
<h3 id="flight-controller">Flight Controller<a class="headerlink" href="#flight-controller" title="Permanent link">¶</a></h3>
<p>The flight controller is the embedded microcontroller that runs <code>rosflight_firmware</code>.
See the <a href="../flight-controller-setup/">list of compatible hardware</a> for more information.</p>
<p>The flight controller includes an IMU and a barometer, as well as some additional sensors depending on the board.</p>
<h3 id="external-sensors">External Sensors<a class="headerlink" href="#external-sensors" title="Permanent link">¶</a></h3>
<p>Additional Sensors you may want for your ROSflight setup include:</p>
<ul>
<li>Sonar</li>
<li>GPS</li>
<li>Digital Airspeed Sensor (Pitot Tube)</li>
</ul>
<h3 id="vibration-isolation">Vibration Isolation<a class="headerlink" href="#vibration-isolation" title="Permanent link">¶</a></h3>
<p>It is really important to isolate your flight controller from vehicle vibrations, such as those caused by propellers and motors. We recommend using small amounts of <a href="https://www.amainhobbies.com/kyosho-zeal-5mm-vibration-absorption-gyro-receiver-mounting-gel-kyoz8006b/p1391945">Kyosho Zeal</a> to mount a fiberglass plate holding the FC to the MAV. You may also want to try adding mass to the flight control board. We have accomplished this by gluing steel washers to the fiberglass mounting plate.</p>
<p><a class="glightbox" href="../../images/vibration_isolation.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Vibration Isloation" src="../../images/vibration_isolation.png"></a></p>
<p>You may need to experiment with the amount of gel you use, how far apart the gel is spaced, and the amount of mass added to the FC mounting plate. The interaction of these factors is difficult to predict, therefore it takes a little bit of experimentation to get it right.</p>
<h3 id="companion-computer">Companion Computer<a class="headerlink" href="#companion-computer" title="Permanent link">¶</a></h3>
<p>The only requirement for the companion computer is that it runs Linux (usually an Ubuntu LTS version, but using Docker on other distributions is also an option), ROS2, has at least one USB port, and can be carried by the aircraft. We have had success with the following companion computers, but by no means is this a comprehensive list; it is more by way of suggestion.</p>
<ul>
<li><a href="https://www.nvidia.com/en-us/autonomous-machines/embedded-systems/">NVIDIA Jetson</a></li>
<li><a href="https://www.msi.com/Business-Productivity-PCs/Products#?tag=Cubi-Series">MSI CUBI</a></li>
<li><a href="https://www.intel.com/content/www/us/en/products/details/nuc.html">Intel NUC</a></li>
<li><a href="https://www.raspberrypi.com/products/raspberry-pi-3-model-b/">Rasberry Pi 3</a></li>
</ul>
<h3 id="wi-fi">Wi-Fi<a class="headerlink" href="#wi-fi" title="Permanent link">¶</a></h3>
<p>You will need Wi-Fi to communicate with your MAV when it is in the air. Because ROS2 communicates over UDP, it is very easy to use ROS2 to view what is going on in your MAV while it is flying by sending commands and reading sensor data. For most applications, a standard Wi-Fi router and dongle will suffice. For long-range applications, you may want to look into <a href="https://www.ubnt.com/">Ubiquiti</a> point-to-point Wi-Fi. (We have seen ranges over a mile with these networks.)</p>
<h3 id="rc-transmitter-and-receiver">RC Transmitter and Receiver<a class="headerlink" href="#rc-transmitter-and-receiver" title="Permanent link">¶</a></h3>
<p>For RC Control, you will need a transmitter with between 6 and 8 channels. Any additional channels will be wasted. We require RC control for safe operation, and only support arming and disarming via RC control.</p>
<!-- [comment]: # TODO: Do we actually support PPM? -->
<p>ROSflight only supports PPM (pulse position modulation) and SBUS receivers. Individual channel PWM outputs are not supported. Any configurations with PPM or SBUS and 6-8 channels will be sufficient.</p>
<h3 id="laptop-or-base-station-computer">Laptop or Base Station Computer<a class="headerlink" href="#laptop-or-base-station-computer" title="Permanent link">¶</a></h3>
<p>You will need a laptop which can run ROS2 to communicate with the MAV over the ground station wireless network. To do this natively you'll want a recent Ubuntu LTS version, but this can also be done with Docker containers from pretty much any Linux distribution. Linux within a virtual machine can also work, but is not recommended. </p>
<h3 id="joystick">Joystick<a class="headerlink" href="#joystick" title="Permanent link">¶</a></h3>
<p>A joystick is used for <a href="../running-simulations-with-rosflight/">software-in-the-loop (SIL) simulations</a>. The joystick is not technically a required component because it is possible to control your MAV from the command line, but it makes things much easier. Our first recommendation is to use the same transmitter you use for hardware as a joystick by plugging it into the computer via USB. We support Taranis QX7 transmitters, Radiomaster TX16s transmitters, RealFlight controllers, and XBOX controllers. Other joysticks can be used, but you may need to create custom axis and button mappings within the ROSflight joystick utility.</p>
<div class="admonition note">
<p class="admonition-title">Physical vs firmware channels</p>
<p>If you do write your own mapping, remember that the channel numbers need to be configured properly on both the firmware and the transmitter.
This means that if the RC transmitter outputs "throttle" on channel 3 on the (1 indexed on the transmitter), then the firmware needs to set <code>RC_F_CHN</code> to 2 (0 indexed).</p>
</div>
<h3 id="battery-monitor">Battery Monitor<a class="headerlink" href="#battery-monitor" title="Permanent link">¶</a></h3>
<p>A battery monitor is an analog sensor that provides battery voltage and/or battery current information. This data can be used to prevent power loss in air or to measure system load. The sensor outputs an analog voltage proportional to the battery voltage and/or current through the battery. Most flight controllers come equipped with a built-in battery monitor, but if not, small PCB sensors are also available that can be connected to the flight controller.</p>
<!-- TODO: Is this still the case? -->
<p>For ROSflight to use a battery monitor, an appropriate multiplier must be set. ROSflight multiplies the analog signal from the monitor by the multiplier to get the final reading. The monitor datasheet should contain the information needed to get the multiplier. For example, the datasheet for the AttoPilot 50V/90A sensor states that it outputs 63.69 mV / V. To get the original battery voltage, the multiplier must be 1/.06369, or 15.7. The multipliers for the voltage and current are set separately, with the <code>BATT_VOLT_MULT</code> and <code>BATT_CURR_MULT</code> parameters, respectively.</p>
<p>ROSflight applies a simple low-pass filter to remove noise from the voltage and current measurements. These filters are configurable via the <code>BATT_VOLT_ALPHA</code> and <code>BATT_CURR_ALPHA</code> <a href="../parameter-configuration/">parameters</a>. The alpha value for a given cutoff frequency \(a\), can be calulated with: \( \alpha =  e ^ {-.01a} \). As battery voltages do not typically change quickly, the default of 0.995 usually suffices.</p>
<p>More information on battery monitor hardware, including determining appropriate multipliers and creating a simple DIY monitor, can be found on the <a href="https://opwiki.readthedocs.io/en/latest/user_manual/revo/voltage_current.html">OpenPilot Wiki</a>.</p>
<h2 id="wiring-diagram">Wiring Diagram<a class="headerlink" href="#wiring-diagram" title="Permanent link">¶</a></h2>
<!-- TODO: We need to update this picture probably... -->
<p>Below is an example wiring diagram for a multirotor using an MSI Cubi as a companion computer. This diagram also includes the motor power switch, which allows for the sensors, flight controller, and companion computer to be powered on while the motors are off. This is a safer way to test sensors, code, etc. as the motors are unable to spin while the switch is off.</p>
<p><a class="glightbox" href="../../images/Wiring_Diagram.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Wiring Diagram" src="../../images/Wiring_Diagram.png"></a></p>
<p>Your needs will likely be slightly different than what is shown. This is meant as an example only and can be adapted to fit your needs.</p>
<h2 id="motor-layouts-and-mixer">Motor Layouts and Mixer<a class="headerlink" href="#motor-layouts-and-mixer" title="Permanent link">¶</a></h2>
<p>The mixer takes in the desired forces and torques from the firmware controller and computes the motor and servo outputs accordingly.
If it is not set correctly, it will likely lead to a crash.
Make sure it is set properly for your airframe!</p>
<div class="admonition tip">
<p class="admonition-title">Quick Start</p>
<p>For a quick start, use one of the "canned mixers".
For a more accurate mixer, use a custom mixer.</p>
</div>
<p>ROSflight offers some pre-computed, "canned" mixers that can be used off the shelf for a variety of common multirotor and fixedwing airframes.
These mixers do not take into account all the parameters of your system (i.e. motor and propeller parameters), so they will be less accurate than they could be.
If you want a more accurate mixer, or have easy access to the motor and prop parameters of your system, then we recommend using a custom mixer. </p>
<div class="admonition warning">
<p class="admonition-title">Important</p>
<p>A mixer must be chosen for the firmware to allow arming.</p>
</div>
<p>The desired mixer can be chosen by setting the <code>PRIMARY_MIXER</code> parameter to one of the following values:</p>
<table>
<thead>
<tr>
<th>#</th>
<th>Mixer</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>ESC calibration</td>
</tr>
<tr>
<td>1</td>
<td>Quad +</td>
</tr>
<tr>
<td>2</td>
<td>Quad X</td>
</tr>
<tr>
<td>3</td>
<td>Hex +</td>
</tr>
<tr>
<td>4</td>
<td>Hex X</td>
</tr>
<tr>
<td>5</td>
<td>Octo +</td>
</tr>
<tr>
<td>6</td>
<td>Octo X</td>
</tr>
<tr>
<td>7</td>
<td>Y6</td>
</tr>
<tr>
<td>8</td>
<td>X8</td>
</tr>
<tr>
<td>9</td>
<td>Fixed-wing (traditional AETR)</td>
</tr>
<tr>
<td>10</td>
<td>Inverted V-tail fixedwing (like the RMRC Anaconda frame)</td>
</tr>
<tr>
<td>11</td>
<td>Custom mixer</td>
</tr>
</tbody>
</table>
<p>The associated motor layouts are shown below for each mixer.
The <strong>ESC calibration</strong> mixer directly outputs the throttle command equally to each motor, and can be used for calibrating the ESCs.</p>
<p><a class="glightbox" href="../../images/mixers_1.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Mixer_1" src="../../images/mixers_1.png"></a></p>
<p>The following parameters related to the mixer are optional:</p>
<ul>
<li><code>SECONDARY_MIXER</code></li>
<li><code>USE_MOTOR_PARAM</code></li>
<li>All the custom mixer params of the form <code>PRI_MIXER_i_j</code> or <code>SEC_MIXER_i_j</code></li>
</ul>
<p>The following subsections have more detail on these parameters.</p>
<h3 id="secondary-mixer">Secondary Mixer<a class="headerlink" href="#secondary-mixer" title="Permanent link">¶</a></h3>
<p>ROSflight also has a secondary mixer that can be set using the options in the above table by setting the <code>SECONDARY_MIXER</code> param.</p>
<p>Offboard control commands will use the secondary mixer, while commands from the RC safety pilot will use the primary mixer.
Thus, both RC throttle and attitude override will affect the mixer, as shown in the following image.</p>
<p><a class="glightbox" href="../../images/rc_mixer_configuration.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="RC Mixer Configuration" src="../../images/rc_mixer_configuration.png"></a></p>
<p>The <code>mixer_to_use_</code> structure represents the mixer that will be used when computing the output.
The header, which includes the default PWM rate and the output type for each output channel, is always set to the same as the primary mixer.
See <a href="#defining-a-custom-mixer">Defining a Custom Mixer</a> for more information.
Note that if the <code>SECONDARY_MIXER</code> param is not set, then it will default to the same value as the primary mixer.</p>
<p>The secondary mixer might be useful when the airframe needs a different mixer for the offboard control (from the companion computer) than for RC control (from the safety pilot).
It allows flexibility for more advanced mixing schemes while still having a functional mixer available to a safety pilot.</p>
<h3 id="using-motor-parameters">Using Motor Parameters<a class="headerlink" href="#using-motor-parameters" title="Permanent link">¶</a></h3>
<p>The parameter <code>USE_MOTOR_PARAM</code> causes the firmware to compute the actuator outputs differently than if <code>USE_MOTOR_PARAM</code> is set false.
As described in <em>Small Unmanned Aircraft: Theory and Practice</em> by Beard and McLain, the mixing matrix is formed using equations from propeller theory, resulting in a set of equations that set the desired forces and torques equal to the square of the angular speeds of the propellers.
If the motor and propeller parameters are known, then the desired voltage (and thus throttle) setting can be computed from the squared angular speeds.</p>
<p>If the motor and propeller parameters are not known, then some simplifying assumptions are made to compute the desired throttle settings for each motor from the desired forces and torques.
See <a href="https://github.com/rosflight/rosflight_docs/blob/main/latex-reports/mixer.tex">the report on the ROSflight mixer derivation</a> for more information on the mixer derivation and assumptions.</p>
<div class="admonition tip">
<p class="admonition-title">Quick Start</p>
<p>If using a canned mixer, set <code>USE_MOTOR_PARAM=0</code>.</p>
<p>If using a custom mixer, set <code>USE_MOTOR_PARAM=1</code> <strong>only</strong> if the mixer was designed with motor parameters.</p>
</div>
<p>The canned mixing matrices assume that <code>USE_MOTOR_PARAM</code> parameter is set to false.
Using a canned mixer matrix and setting <code>USE_MOTOR_PARAM=1</code> (i.e. specifying that you want to mix with motor and propeller parameters) will cause the outputs to be scaled incorrectly.
It is not required to use motor and propeller parameters when using a custom mixing matrix, but make sure your custom mixer makes sense.</p>
<p>Also, if you selected a custom mixer and used the motor parameters to generate the mixer, make sure you set <code>USE_MOTOR_PARAM=1</code>. Otherwise, the outputs will likely be scaled incorrectly.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>We recommend flying your firmware in simulation <em>before</em> loading the firmware onto real hardware to make sure everything is working.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>It is not recommended to use a <em>canned mixer for the primary mixer</em> and a <em>custom mixer for the secondary mixer</em> <strong>when the secondary mixer needs <code>USE_MOTOR_PARAM=1</code>.</strong>
In other words, both <code>PRIMARY_MIXER</code> and <code>SECONDARY_MIXER</code> should use motor parameters, or neither should.</p>
<p>This is important because the canned mixers make assumptions that affect the gains of the controller on the aircraft.
This means that a canned mixer will require slightly different tuning than a custom mixer might.</p>
</div>
<h3 id="defining-a-custom-mixer">Defining a Custom Mixer<a class="headerlink" href="#defining-a-custom-mixer" title="Permanent link">¶</a></h3>
<p>A custom mixer can be defined by:</p>
<ol>
<li>Set <code>PRIMARY_MIXER</code> (required) and/or <code>SECONDARY_MIXER</code> (optional) to the desired value in the mixer table</li>
<li>Load the mixing matrix parameters for either/both the primary or the secondary mixer</li>
</ol>
<p>Note that computing the parameters of the mixing matrix can be done on the companion computer.</p>
<p>The firmware loads a custom mixer by loading all mixing matrix values from parameters.
Since there are 6 inputs to the mixer (<span class="arithmatex"><span class="MathJax_Preview">F_x,F_y,F_z,Q_x,Q_y,Q_z</span><script type="math/tex">F_x,F_y,F_z,Q_x,Q_y,Q_z</script></span>) and 10 possible outputs, the mixer is a 6x10 matrix and there are 60 parameters associated with each custom mixer.
For a standard quadrotor, however, most of these would be zero, since only the first 4 outputs (columns of the mixer matrix) would be used.</p>
<p>In addition to the parameters associated with the 6x10 mixing matrix, there are two additional sets of parameters that need to be defined for each output used, the <code>PRI_MIXER_OUT_i</code> and the <code>PRI_MIXER_PWM_i</code> parameters, which define the output type and the default PWM rate, respectively, for the <code>i</code>th output.
See the <a href="../parameter-configuration/">Parameter Configuration Page</a> for more information on these parameters.
The PWM rate is typically 490 or 50 Hz.</p>
<div class="admonition warning">
<p class="admonition-title">Mixing Matrix PWM Header</p>
<p>Depending on the hardware used, the 10 <code>PRI_MIXER_PWM_*</code> parameters need to be grouped into sections.
This is because the PWM outputs are not all on separate interrupts, so it is not possible to set each PWM rate individually.</p>
<p>The number of interrupts varies based on hardware.
If you don't want to worry about it, just set all the <code>PRI_MIXER_PWM_i</code> to the same value, if possible.</p>
</div>
<p>The recommended way to load a custom mixer is to first compute all the required parameters and save them to a file on the companion computer.
The parameters are named <code>PRI_MIXER_i_j</code> or <code>SEC_MIXER_i_j</code>, where <code>(i,j)</code> is the index of the parameter in the 6x10 mixing matrix.
See the <a href="../parameter-configuration/">Parameter Configuration Page</a> for more information on these parameters.
A convenience script is available in the <code>roscopter</code> ROS2 package that will compute the custom mixer and save the parameter values in a format ready to load.</p>
<p>Once the parameters are saved to a file, load them with the ROS2 service call (make sure <code>rosflight_io</code> is running):
<code>ros2 service call /param_load_from_file rosflight_msgs/srv/ParamFile "{file: absolute/or/relative/path/to/saved/param/file.yaml}"</code></p>
<p>Also make sure to save those parameters to memory with the ROS2 service call:
<code>ros2 service call /param_write std_srvs/srv/Trigger</code></p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Test your mixer in simulation first when making changes, to avoid accidents.</p>
</div>
<h2 id="connecting-to-the-flight-controller">Connecting to the Flight Controller<a class="headerlink" href="#connecting-to-the-flight-controller" title="Permanent link">¶</a></h2>
<p>The flight controller communicates with the companion computer over a serial link. ROSflight only supports one serial connection at a time and by default should be the serial link connected to the USB connector on the board.</p></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2019-2025, BYU MAGICC Lab
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["content.action.edit", "navigation.tabs"], "search": "../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>